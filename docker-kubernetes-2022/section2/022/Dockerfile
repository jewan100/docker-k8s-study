FROM node 
# base image

WORKDIR /app
# 도커 컨테이너 내부에서 작업 디렉토리 설정
# 도커의 후속 명령어들은 모두 이 디렉토리에서 실행됨

# COPY . .
# 도커 컨테이너의 루트를 사용하지 않고 특정 디렉토리를 사용
# COPY . ./
# WORKDIR /app로 경로가 변경되어서 ./로 표현 가능
COPY . /app
# 첫번째 경로는 컨테이너의 외부, 두번째 경로는 컨테이너 내부
# 현재 디렉토리의 모든 파일을 컨테이너 내부로 복사

RUN npm install
# 도커 컨테이너 내부에서 실행되는 명령어

EXPOSE 80
# 도커 컨테이너가 외부에 노출하는 포트 설정

CMD ["node", "server.js"]
# 도커 컨테이너가 실행될 때 실행되는 명령어

# RUN vs CMD
# RUN: 도커 이미지가 빌드될 때 실행되는 명령어
# CMD: 도커 컨테이너가 실행될 때 실행되는 명령어